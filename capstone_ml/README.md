# 📘 ARIMA · SARIMA 발전량 예측 모델 학습 프로젝트

이 프로젝트는 무안군 지역의 태양광 발전 데이터를 바탕으로 ARIMA 및 SARIMA 모델을 학습하여, 발전량을 시계열 예측하는 모델을 생성하는 학습 파이프라인입니다. 생성된 모델(`arima_model.pkl`, `sarima_model.pkl`)은 별도의 백엔드 서버나 테스트 코드에서 활용됩니다.

---

## 🚀 주요 기능

* `목포대_태양광_예측_2024_2025.csv`로부터 발전량 시계열 데이터 불러오기
* 비계절성 ARIMA, 계절성 SARIMA 모델 자동 탐색 및 학습
* 예측 결과 시각화 및 모델 평가 (RMSE, MAE, MAPE)
* 학습된 모델을 `.pkl` 파일로 저장

---

## 📂 프로젝트 구조

```bash
capstone_ml/
├── train_arima_sarima.py        # 본 학습 코드
├── 목포대_태양광_예측_2024_2025.csv  # 입력 데이터 파일
├── arima_model.pkl              # ARIMA 학습 결과 (출력)
├── sarima_model.pkl             # SARIMA 학습 결과 (출력)
```

---

## 📥 필수 입력 파일

| 파일명                        | 설명                                                 |
| -------------------------- | -------------------------------------------------- |
| `목포대_태양광_예측_2024_2025.csv` | 무안군 실측 발전량 시계열 데이터. '날짜', '시간', '오늘 누적(kWh)' 컬럼 필수 |

---

## 📤 출력 파일

| 파일명                | 설명            | 사용처                               |
| ------------------ | ------------- | --------------------------------- |
| `arima_model.pkl`  | 학습된 ARIMA 모델  | `arima_backend`, 테스트 코드에서 예측 수행용  |
| `sarima_model.pkl` | 학습된 SARIMA 모델 | `sarima_backend`, 테스트 코드에서 예측 수행용 |

---

## ⚙️ 실행 방법

1. 의존 패키지 설치 (가상환경 권장)

```bash
pip install pandas numpy pmdarima matplotlib scikit-learn joblib
```

2. 학습 코드 실행

```bash
python train_arima_sarima.py
```

3. 출력 확인

* 콘솔에서 RMSE, MAE, MAPE 확인 가능
* 학습된 모델이 `.pkl` 파일로 저장됨

---

## 🧪 출력 모델 사용처

| 사용처                     | 사용 파일              | 설명                  |
| ----------------------- | ------------------ | ------------------- |
| `arima_backend.py`      | `arima_model.pkl`  | 매일 오전 예측 수행 및 DB 저장 |
| `sarima_backend.py`     | `sarima_model.pkl` | 6일 예측 및 누적 발전량 계산   |
| `test1.py` / `test2.py` | 둘 다 사용             | 예측 정확도 평가 및 시각화     |

---

## 🖼️ 예측 시각화 예시

* `plt.plot()`을 통해 실제값 vs 예측값 비교
* 일간/주간 시계열 그래프로 모델 적합성 판단

---

## 🔒 주의 사항

* 학습에 사용된 데이터와 테스트 데이터(`test.csv`) 간 시간 구간이 일치해야 성능 지표가 유의미함
* `arima_model.pkl`, `sarima_model.pkl`은 GitHub에 직접 업로드할 수 없으므로 LFS 또는 외부 배포 필요

---

## 📬 문의

* 담당자: 국립목포대학교 공과대학 융합소프트웨어학과 스포트라이트팀 팀장
* 학습 파라미터 튜닝이나 운영용 재학습 스크립트가 필요하다면 별도 요청해주세요.
